(function(){"use strict";var t={4679:function(t,e,s){var i=s(6369),a=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},r=[],o=s(9203),n=function(t,e,s,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var n=t.length-1;n>=0;n--)(a=t[n])&&(o=(r<3?a(o):r>3?a(e,s,o):a(e,s))||o);return r>3&&o&&Object.defineProperty(e,s,o),o};let l=class extends o.w3{};l=n([o.wA],l);var c=l,d=c,u=s(1001),p=(0,u.Z)(d,a,r,!1,null,null,null),f=p.exports,m=s(2631),v=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"container my-4"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-md-6"},[e("button",{staticClass:"btn btn-primary mr-2",on:{click:function(e){t.mostrarLoginForm=!0}}},[t._v(" Iniciar Sesión ")]),e("button",{staticClass:"btn btn-secondary",on:{click:function(e){t.mostrarLoginForm=!1}}},[t._v(" Registrarse ")]),t.mostrarLoginForm?e("form",{staticClass:"mt-4",on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[e("h2",[t._v("Inciar Sesión")]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"emailLogin"}},[t._v(" Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"emailLogin"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"passwordLogin"}},[t._v(" Contraseña")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"passwordLogin"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[t._v("Inciar Sesión")])]):e("form",{staticClass:"mt-4",on:{submit:function(e){return e.preventDefault(),t.register.apply(null,arguments)}}},[e("h2",[t._v("Registrarse")]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"emailRegister"}},[t._v(" Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.emailSign,expression:"emailSign"}],staticClass:"form-control",attrs:{type:"email",id:"emailRegister"},domProps:{value:t.emailSign},on:{input:function(e){e.target.composing||(t.emailSign=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"passwordRegister"}},[t._v(" Contraseña")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordSign,expression:"passwordSign"}],staticClass:"form-control",attrs:{type:"password",id:"passwordRegister"},domProps:{value:t.passwordSign},on:{input:function(e){e.target.composing||(t.passwordSign=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"passwordRepeat"}},[t._v(" Repetir contraseña")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordCompare,expression:"passwordCompare"}],staticClass:"form-control",attrs:{type:"password",id:"passwordRepeat"},domProps:{value:t.passwordCompare},on:{input:function(e){e.target.composing||(t.passwordCompare=e.target.value)}}})]),e("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[t._v("Registrarse")])])])])])},h=[],g=s(7327),k=(s(560),s(7795)),b=s(2689);const w={apiKey:"AIzaSyCF0MOK4F_KfUlrOS-XUPwsAjCRoeVzfn4",authDomain:"upso-todolist.firebaseapp.com",projectId:"upso-todolist",storageBucket:"upso-todolist.appspot.com",messagingSenderId:"1002398211876",appId:"1:1002398211876:web:9913737aff1487d08d5db1"},T=(0,k.ZF)(w),y=(0,b.v0)(T);var _=s(2492),C=s.n(_),x=function(t,e,s,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var n=t.length-1;n>=0;n--)(a=t[n])&&(o=(r<3?a(o):r>3?a(e,s,o):a(e,s))||o);return r>3&&o&&Object.defineProperty(e,s,o),o};let O=class extends o.w3{constructor(...t){super(...t),(0,g.Z)(this,"mostrarLoginForm",!0),(0,g.Z)(this,"email",""),(0,g.Z)(this,"emailSign",""),(0,g.Z)(this,"password",""),(0,g.Z)(this,"passwordSign",""),(0,g.Z)(this,"passwordCompare","")}login(){(0,b.e5)(y,this.email,this.password).then((()=>{C().fire({title:"Iniciaste sesion correctamente",text:"Desea ir al home?",icon:"success",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar"}).then((t=>{t.isConfirmed&&this.$router.push("/home")}))})).catch((t=>{window.alert("Fallo el inicio de sesión")}))}register(){this.passwordSign===this.passwordCompare?(0,b.Xb)(y,this.emailSign,this.passwordSign).then((()=>{this.$router.push("/registro"),C().fire({title:"Buenísimo",text:"Te registraste correctamente",icon:"success"})})).catch((t=>{window.alert("Fallo el registro")})):C().fire({title:"Mmmm, le erraste en la contraseña",text:"Intenta de nuevo",icon:"error"})}};O=x([o.wA],O);var P=O,S=P,j=(0,u.Z)(S,v,h,!1,null,"3f406a12",null),R=j.exports,Z=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"container mt-5"},[e("h2",{staticClass:"mb-4"},[t._v("Lista de Tareas")]),e("ul",{staticClass:"list-group"},t._l(t.tasks,(function(s){return e("li",{key:s._id,staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t._v(" "+t._s(s.title)+" - "+t._s(s.completed?"Completada":"Pendiente")+" "),e("div",[e("button",{staticClass:"btn btn-primary btn-sm mr-2",on:{click:function(e){return t.editTask(s._id)}}},[t._v(" Editar ")]),e("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(e){return t.confirmDelete(s._id)}}},[t._v(" Eliminar ")])])])})),0),t.editingTask?e("div",{staticClass:"mt-4"},[e("h3",[t._v("Editar Tarea")]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"editedTaskTitle"}},[t._v("Título:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editedTask.title,expression:"editedTask.title"}],staticClass:"form-control",attrs:{id:"editedTaskTitle"},domProps:{value:t.editedTask.title},on:{input:function(e){e.target.composing||t.$set(t.editedTask,"title",e.target.value)}}})]),e("div",{staticClass:"form-group form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editedTask.completed,expression:"editedTask.completed"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"completedCheckbox"},domProps:{checked:Array.isArray(t.editedTask.completed)?t._i(t.editedTask.completed,null)>-1:t.editedTask.completed},on:{change:function(e){var s=t.editedTask.completed,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,o=t._i(s,r);i.checked?o<0&&t.$set(t.editedTask,"completed",s.concat([r])):o>-1&&t.$set(t.editedTask,"completed",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(t.editedTask,"completed",a)}}}),e("label",{staticClass:"form-check-label",attrs:{for:"completedCheckbox"}},[t._v("Completada")])]),e("button",{staticClass:"btn btn-success",on:{click:t.updateTask}},[t._v(" Guardar cambios ")]),e("button",{staticClass:"btn btn-secondary ml-2",on:{click:function(e){return t.cancelEditing(t.editedTask.title)}}},[t._v(" Cancelar ")])]):t._e(),e("div",{staticClass:"mt-4"},[e("h3",[t._v("Nueva Tarea")]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"newTaskTitle"}},[t._v("Título:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.title,expression:"newTask.title"}],staticClass:"form-control",attrs:{id:"newTaskTitle"},domProps:{value:t.newTask.title},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.createTask.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.newTask,"title",e.target.value)}}})]),e("button",{staticClass:"btn btn-primary",on:{click:t.createTask}},[t._v("Crear Tarea")])]),e("button",{staticClass:"btn btn-danger mt-3",on:{click:t.signOut}},[t._v("Cerrar Sesión")])])},$=[],E=s(8801),B=function(t,e,s,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var n=t.length-1;n>=0;n--)(a=t[n])&&(o=(r<3?a(o):r>3?a(e,s,o):a(e,s))||o);return r>3&&o&&Object.defineProperty(e,s,o),o};let L=class extends o.w3{constructor(...t){super(...t),(0,g.Z)(this,"tasks",[]),(0,g.Z)(this,"editingTask",null),(0,g.Z)(this,"editedTask",{_id:"",title:"",completed:!1}),(0,g.Z)(this,"newTask",{title:""})}mounted(){this.fetchTasks()}signOut(){y.signOut().then((()=>{this.$router.push("/")})).catch((t=>{console.error("Error al cerrar sesión:",t)}))}async fetchTasks(){try{const t=await E.Z.get("http://localhost:3000/api/tasks");this.tasks=t.data}catch(t){console.error(t)}}editTask(t){this.editingTask=t,this.editedTask={...this.tasks.find((e=>e._id===t))}}async updateTask(){try{const t=await E.Z.put(`http://localhost:3000/api/tasks/${this.editedTask._id}`,this.editedTask),e=this.tasks.findIndex((t=>t._id===this.editedTask._id));this.$set(this.tasks,e,t.data),console.log(this.editedTask.title),C().fire({title:"Tarea actualizada",text:"La tarea se actualizó correctamente",icon:"success"}),this.editingTask=null,this.editedTask={_id:"",title:"",completed:!1}}catch(t){console.error(t)}}async createTask(){try{if(""===this.newTask.title)C().fire({title:"Error",text:"Por favor, llená el campo de título",icon:"error"});else{const t=await E.Z.post("http://localhost:3000/api/tasks",this.newTask);this.tasks.push(t.data),this.newTask.title=""}}catch(t){console.error(t)}}async deleteTask(t){try{this.editingTask=null,this.editedTask={_id:"",title:"",completed:!1},await E.Z.delete(`http://localhost:3000/api/tasks/${t}`),this.tasks=this.tasks.filter((e=>e._id!==t))}catch(e){console.error(e)}}confirmDelete(t){const e=C().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});e.fire({title:"Estás seguro?",text:"No podrás revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonText:"Borrar",cancelButtonText:"No, cancelar!",reverseButtons:!0}).then((s=>{s.isConfirmed?(this.deleteTask(t),e.fire({title:"Eliminado!",text:`La tarea ${this.editedTask.title} fue eliminada`,icon:"success"})):s.dismiss===C().DismissReason.cancel&&e.fire({title:"Cancelado",text:"Tranqui, que no se borro nada",icon:"error"})}))}cancelEditing(t){C().fire({title:"No se actualizo la tarea",text:`La tarea ${t} no se actualizó`,icon:"success"}),this.editingTask=null,this.editedTask={_id:"",title:"",completed:!1}}};L=B([o.wA],L);var N=L,A=N,D=(0,u.Z)(A,Z,$,!1,null,"69ed1cd6",null),F=D.exports,I=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("h1",[t._v(" Te registraste correctamente, felicitaciones! ")]),e("button",{on:{click:function(e){return t.volver()}}},[t._v(" Volver al login")])])},z=[],M=function(t,e,s,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var n=t.length-1;n>=0;n--)(a=t[n])&&(o=(r<3?a(o):r>3?a(e,s,o):a(e,s))||o);return r>3&&o&&Object.defineProperty(e,s,o),o};let K=class extends o.w3{volver(){this.$router.push("/")}};K=M([o.wA],K);var U=K,q=U,V=(0,u.Z)(q,I,z,!1,null,null,null),X=V.exports;i.ZP.use(m.Z);const G=function(t,e,s){const i=y.currentUser;i?s():s("/")},H=[{path:"/",component:R},{path:"/registro",component:X},{path:"/home",component:F,beforeEnter:G}],J=new m.Z({routes:H});var Q=J;i.ZP.config.productionTip=!1,new i.ZP({render:t=>t(f),router:Q}).$mount("#app")}},e={};function s(i){var a=e[i];if(void 0!==a)return a.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,s),r.exports}s.m=t,function(){var t=[];s.O=function(e,i,a,r){if(!i){var o=1/0;for(d=0;d<t.length;d++){i=t[d][0],a=t[d][1],r=t[d][2];for(var n=!0,l=0;l<i.length;l++)(!1&r||o>=r)&&Object.keys(s.O).every((function(t){return s.O[t](i[l])}))?i.splice(l--,1):(n=!1,r<o&&(o=r));if(n){t.splice(d--,1);var c=a();void 0!==c&&(e=c)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[i,a,r]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,i){var a,r,o=i[0],n=i[1],l=i[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(a in n)s.o(n,a)&&(s.m[a]=n[a]);if(l)var d=l(s)}for(e&&e(i);c<o.length;c++)r=o[c],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(d)},i=self["webpackChunkupso_fire"]=self["webpackChunkupso_fire"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(4679)}));i=s.O(i)})();
//# sourceMappingURL=app.d7da47f9.js.map